{"ast":null,"code":"var _jsxFileName = \"/Users/davidbroida/Desktop/MusicMatch2/frontend/src/auth/ProfileForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport Alert from '../alerts/Alert';\nimport MusicMatchApi from '../api/api';\nimport UserContext from './UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ProfileForm() {\n  _s();\n\n  const {\n    currentUser,\n    setCurrentUser\n  } = useContext(UserContext);\n  const [formData, setFormData] = useState({\n    firstName: currentUser.firstName,\n    lastName: currentUser.lastName,\n    email: currentUser.email,\n    username: currentUser.username,\n    password: ''\n  });\n  const [formErrors, setFormErrors] = useState([]);\n  const [saveConfirmed, setSaveConfirmed] = useState(false);\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    let profileData = {\n      firstName: formData.firstName,\n      lastName: formData.lastName,\n      email: formData.email,\n      password: formData.password\n    };\n    let username = formData.username;\n    let updatedUser;\n\n    try {\n      updatedUser = await MusicMatchApi.saveProfile(username, profileData);\n    } catch (errors) {\n      setFormErrors(errors);\n      return;\n    }\n\n    setFormData(form => ({ ...form,\n      password: ''\n    }));\n    setFormErrors([]);\n    setSaveConfirmed(true);\n    setCurrentUser(updatedUser);\n  }\n\n  function handleChange(evt) {\n    const {\n      name,\n      value\n    } = evt.target;\n    setFormData(form => ({ ...form,\n      [name]: value\n    }));\n    setFormErrors([]);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"User Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: formData.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"firstName\",\n            value: formData.firstName,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Last Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"lastName\",\n            value: formData.lastName,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            value: formData.email,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Re-enter password to make changes:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            value: formData.password,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), formErrors.length ? /*#__PURE__*/_jsxDEV(Alert, {\n          type: \"danger\",\n          messages: formErrors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 32\n        }, this) : null, saveConfirmed ? /*#__PURE__*/_jsxDEV(Alert, {\n          type: \"success\",\n          message: ['Update successful.']\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 28\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProfileForm, \"yQTBKUALcAP8Df68/lC6OVFHn4A=\");\n\n_c = ProfileForm;\nexport default ProfileForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileForm\");","map":{"version":3,"sources":["/Users/davidbroida/Desktop/MusicMatch2/frontend/src/auth/ProfileForm.js"],"names":["React","useState","useContext","Alert","MusicMatchApi","UserContext","ProfileForm","currentUser","setCurrentUser","formData","setFormData","firstName","lastName","email","username","password","formErrors","setFormErrors","saveConfirmed","setSaveConfirmed","handleSubmit","evt","preventDefault","profileData","updatedUser","saveProfile","errors","form","handleChange","name","value","target","length"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport Alert from '../alerts/Alert';\nimport MusicMatchApi from '../api/api';\nimport UserContext from './UserContext';\n\nfunction ProfileForm() {\n  const { currentUser, setCurrentUser } = useContext(UserContext);\n  const [formData, setFormData] = useState({\n    firstName: currentUser.firstName,\n    lastName: currentUser.lastName,\n    email: currentUser.email,\n    username: currentUser.username,\n    password: ''\n  });\n  const [formErrors, setFormErrors] = useState([]);\n  const [saveConfirmed, setSaveConfirmed] = useState(false);\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n\n    let profileData = {\n      firstName: formData.firstName,\n      lastName: formData.lastName,\n      email: formData.email,\n      password: formData.password\n    };\n\n    let username = formData.username;\n    let updatedUser;\n\n    try {\n      updatedUser = await MusicMatchApi.saveProfile(username, profileData);\n    } catch (errors) {\n      setFormErrors(errors);\n      return;\n    }\n\n    setFormData((form) => ({ ...form, password: '' }));\n    setFormErrors([]);\n    setSaveConfirmed(true);\n\n    setCurrentUser(updatedUser);\n  }\n\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n    setFormData((form) => ({\n      ...form,\n      [name]: value\n    }));\n    setFormErrors([]);\n  }\n\n  return (\n    <div>\n      <h3>User Profile</h3>\n      <div>\n        <form>\n          <div>\n            <label>Username</label>\n            <p>{formData.username}</p>\n          </div>\n          <div>\n            <label>First Name</label>\n            <input name=\"firstName\" value={formData.firstName} onChange={handleChange} />\n          </div>\n          <div>\n            <label>Last Name</label>\n            <input name=\"lastName\" value={formData.lastName} onChange={handleChange} />\n          </div>\n          <div>\n            <label>Email</label>\n            <input name=\"email\" value={formData.email} onChange={handleChange} />\n          </div>\n          <div>\n            <label>Re-enter password to make changes:</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={formData.password}\n              onChange={handleChange}\n            />\n          </div>\n          {formErrors.length ? <Alert type=\"danger\" messages={formErrors} /> : null}\n\n          {saveConfirmed ? <Alert type=\"success\" message={['Update successful.']} /> : null}\n          <button onClick={handleSubmit}>Save Changes</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default ProfileForm;\n"]},"metadata":{},"sourceType":"module"}