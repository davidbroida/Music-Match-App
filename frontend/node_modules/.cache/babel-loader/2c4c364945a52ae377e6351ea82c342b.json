{"ast":null,"code":"import _asyncToGenerator from\"/Users/davidbroida/Desktop/MusicMatch2/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/davidbroida/Desktop/MusicMatch2/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/davidbroida/Desktop/MusicMatch2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/davidbroida/Desktop/MusicMatch2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/davidbroida/Desktop/MusicMatch2/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import{Container}from'react-bootstrap';import Alert from'../alerts/Alert';import logo from'../images/MMLogoBlack.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginForm(_ref){var login=_ref.login;var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),formErrors=_useState2[0],setFormErrors=_useState2[1];var INITIAL_STATE={username:'',password:''};var _useState3=useState(INITIAL_STATE),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormData(function(formData){return _objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value));});};function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return login(formData);case 3:result=_context.sent;if(result.success){history.push('/');/*#__PURE__*/_jsx(Alert,{className:\"alert alert-success\",type:\"success\",messages:\"Login success!\"});console.log('result:',result);}else{setFormErrors(result.errors);}case 5:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"LoginForm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5 col-md-6 offset-md-3 col-lg-4 offset-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(\"img\",{src:logo})}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 mt-2 text-dark\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Please login to continue\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",placeholder:\"Enter username..\",className:\"form-control\",value:formData.username,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Enter password..\",className:\"form-control\",value:formData.password,onChange:handleChange})]}),formErrors.length?/*#__PURE__*/_jsx(Alert,{type:\"danger\",messages:formErrors}):null,/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary float-right\",onSubmit:handleSubmit,children:\"Submit\"})]})})]})})});}export default LoginForm;","map":{"version":3,"sources":["/Users/davidbroida/Desktop/MusicMatch2/frontend/src/auth/LoginForm.js"],"names":["React","useState","useHistory","Container","Alert","logo","LoginForm","login","history","formErrors","setFormErrors","INITIAL_STATE","username","password","formData","setFormData","handleChange","e","target","name","value","handleSubmit","preventDefault","result","success","push","console","log","errors","length"],"mappings":"6pBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,SAAT,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,iBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,2BAAjB,C,wFAEA,QAASC,CAAAA,SAAT,MAA8B,IAATC,CAAAA,KAAS,MAATA,KAAS,CAC5B,GAAMC,CAAAA,OAAO,CAAGN,UAAU,EAA1B,CACA,cAAoCD,QAAQ,CAAC,EAAD,CAA5C,wCAAOQ,UAAP,eAAmBC,aAAnB,eACA,GAAMC,CAAAA,aAAa,CAAG,CACpBC,QAAQ,CAAE,EADU,CAEpBC,QAAQ,CAAE,EAFU,CAAtB,CAKA,eAAgCZ,QAAQ,CAACU,aAAD,CAAxC,yCAAOG,QAAP,eAAiBC,WAAjB,eAGA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1B,cAAwBA,CAAC,CAACC,MAA1B,CAAQC,IAAR,WAAQA,IAAR,CAAcC,KAAd,WAAcA,KAAd,CACAL,WAAW,CAAC,SAACD,QAAD,wCACPA,QADO,wBAETK,IAFS,CAEFC,KAFE,IAAD,CAAX,CAID,CAND,CAX4B,QAmBbC,CAAAA,YAnBa,gJAmB5B,iBAA4BJ,CAA5B,6HACEA,CAAC,CAACK,cAAF,GADF,sBAEqBf,CAAAA,KAAK,CAACO,QAAD,CAF1B,QAEMS,MAFN,eAIE,GAAIA,MAAM,CAACC,OAAX,CAAoB,CAClBhB,OAAO,CAACiB,IAAR,CAAa,GAAb,EACA,kBAAC,KAAD,EAAO,SAAS,CAAC,qBAAjB,CAAuC,IAAI,CAAC,SAA5C,CAAsD,QAAQ,CAAC,gBAA/D,GACAC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBJ,MAAvB,EACD,CAJD,IAIO,CACLb,aAAa,CAACa,MAAM,CAACK,MAAR,CAAb,CACD,CAVH,sDAnB4B,+CAgC5B,mBACE,YAAK,SAAS,CAAC,WAAf,uBACE,YAAK,SAAS,CAAC,0DAAf,uBACE,aAAK,SAAS,CAAC,MAAf,wBACE,UAAG,SAAS,CAAC,MAAb,uBAAoB,YAAK,GAAG,CAAEvB,IAAV,EAApB,EADF,cAEE,UAAG,SAAS,CAAC,qBAAb,uBAAmC,+CAAnC,EAFF,cAGE,YAAK,SAAS,CAAC,WAAf,uBACE,cAAM,QAAQ,CAAEgB,YAAhB,wBACE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,SAAS,CAAC,EAAjB,sBADF,cAEE,cACE,IAAI,CAAC,UADP,CAEE,WAAW,CAAC,kBAFd,CAGE,SAAS,CAAC,cAHZ,CAIE,KAAK,CAAEP,QAAQ,CAACF,QAJlB,CAKE,QAAQ,CAAEI,YALZ,EAFF,GADF,cAWE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,SAAS,CAAC,YAAjB,sBADF,cAEE,cACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,WAAW,CAAC,kBAHd,CAIE,SAAS,CAAC,cAJZ,CAKE,KAAK,CAAEF,QAAQ,CAACD,QALlB,CAME,QAAQ,CAAEG,YANZ,EAFF,GAXF,CAuBGP,UAAU,CAACoB,MAAX,cACG,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,QAAQ,CAAEpB,UAA/B,EADH,CAEG,IAzBN,cA2BE,aA3BF,cA6BE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,6BAFZ,CAGE,QAAQ,CAAEY,YAHZ,oBA7BF,GADF,EAHF,GADF,EADF,EADF,CAiDD,CAED,cAAef,CAAAA,SAAf","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Container } from 'react-bootstrap';\nimport Alert from '../alerts/Alert';\nimport logo from '../images/MMLogoBlack.png';\n\nfunction LoginForm({ login }) {\n  const history = useHistory();\n  const [formErrors, setFormErrors] = useState([]);\n  const INITIAL_STATE = {\n    username: '',\n    password: ''\n  };\n\n  const [formData, setFormData] = useState(INITIAL_STATE);\n\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((formData) => ({\n      ...formData,\n      [name]: value\n    }));\n  };\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    let result = await login(formData);\n\n    if (result.success) {\n      history.push('/');\n      <Alert className=\"alert alert-success\" type=\"success\" messages=\"Login success!\" />\n      console.log('result:', result);\n    } else {\n      setFormErrors(result.errors);\n    }\n  }\n\n  return (\n    <div className=\"LoginForm\">\n      <div className=\"container mt-5 col-md-6 offset-md-3 col-lg-4 offset-lg-4\">\n        <div className=\"card\">\n          <a className=\"mt-3\"><img src={logo} /></a>\n          <p className=\"mb-0 mt-2 text-dark\"><b>Please login to continue</b></p>\n          <div className=\"card-body\">\n            <form onSubmit={handleSubmit}>\n              <div className=\"form-group\">\n                <label className=\"\">Username</label>\n                <input\n                  name=\"username\"\n                  placeholder=\"Enter username..\"\n                  className=\"form-control\"\n                  value={formData.username}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label className=\"form-label\">Password</label>\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"Enter password..\"\n                  className=\"form-control\"\n                  value={formData.password}\n                  onChange={handleChange}\n                />\n              </div>\n\n              {formErrors.length\n                ? <Alert type=\"danger\" messages={formErrors} />\n                : null\n              }\n              <hr />\n\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary float-right\"\n                onSubmit={handleSubmit}\n              >\n                Submit\n              </button>\n            </form>\n          </div>\n        </div>\n      </div >\n    </div >\n  );\n}\n\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}