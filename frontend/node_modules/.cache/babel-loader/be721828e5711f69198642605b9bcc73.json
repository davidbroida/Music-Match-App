{"ast":null,"code":"import _defineProperty from\"/Users/davidbroida/Desktop/MusicMatch2/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/davidbroida/Desktop/MusicMatch2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/davidbroida/Desktop/MusicMatch2/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/davidbroida/Desktop/MusicMatch2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/davidbroida/Desktop/MusicMatch2/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import logo from'../images/MMLogoBlack.png';import FlashMessage from'react-flash-message';import Alert from'../alerts/Alert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignupForm(_ref){var signup=_ref.signup;var history=useHistory();var _useState=useState({username:'',password:'',firstName:'',lastName:'',email:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(evt){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:evt.preventDefault();_context.next=3;return signup(formData);case 3:result=_context.sent;if(result.success){window.alert(\"Account created successfully!\");history.push(\"/\");}else{setFormErrors(result.errors.map(function(err){return err.slice(9);}));}case 5:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}function handleChange(evt){var _evt$target=evt.target,name=_evt$target.name,value=_evt$target.value;setFormData(function(data){return _objectSpread(_objectSpread({},data),{},_defineProperty({},name,value));});}return/*#__PURE__*/_jsx(\"div\",{className:\"SignupForm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5 col-md-6 offset-md-3 col-lg-4 offset-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(\"img\",{src:logo})}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 mt-2 text-dark\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Create an account!\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",placeholder:\"Create a username..\",className:\"form-control\",value:formData.username,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Create a password..\",className:\"form-control\",value:formData.password,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"\",children:\"First name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"firstName\",placeholder:\"Enter your first name..\",className:\"form-control\",value:formData.firstName,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"\",children:\"Last name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"lastName\",placeholder:\"Enter your last name..\",className:\"form-control\",value:formData.lastName,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Enter your e-mail address..\",className:\"form-control\",value:formData.email,onChange:handleChange})]}),formErrors.length?/*#__PURE__*/_jsx(Alert,{type:\"danger\",messages:formErrors}):null,/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary float-right\",onSubmit:handleSubmit,children:\"Submit\"})]})})]})})});}export default SignupForm;","map":{"version":3,"sources":["/Users/davidbroida/Desktop/MusicMatch2/frontend/src/auth/SignupForm.js"],"names":["React","useState","useHistory","logo","FlashMessage","Alert","SignupForm","signup","history","username","password","firstName","lastName","email","formData","setFormData","formErrors","setFormErrors","handleSubmit","evt","preventDefault","result","success","window","alert","push","errors","map","err","slice","handleChange","target","name","value","data","length"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport logo from '../images/MMLogoBlack.png';\nimport FlashMessage from 'react-flash-message'\nimport Alert from '../alerts/Alert'\n\nfunction SignupForm({ signup }) {\n  const history = useHistory();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    firstName: '',\n    lastName: '',\n    email: '',\n  });\n\n  const [formErrors, setFormErrors] = useState([]);\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    let result = await signup(formData);\n    if (result.success) {\n      window.alert(\"Account created successfully!\");\n      history.push(\"/\");\n    } else {\n      setFormErrors(result.errors.map(err => err.slice(9)));\n    }\n  }\n\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n    setFormData(data => ({ ...data, [name]: value }));\n  }\n\n  return (\n    <div className=\"SignupForm\">\n      <div className=\"container mt-5 col-md-6 offset-md-3 col-lg-4 offset-lg-4\">\n        <div className=\"card\">\n          <a className=\"mt-3\"><img src={logo} /></a>\n          <p className=\"mb-0 mt-2 text-dark\"><b>Create an account!</b></p>\n          <div className=\"card-body\">\n            <form onSubmit={handleSubmit}>\n              <div className=\"form-group\">\n                <label className=\"\">Username</label>\n                <input\n                  name=\"username\"\n                  placeholder=\"Create a username..\"\n                  className=\"form-control\"\n                  value={formData.username}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label className=\"form-label\">Password</label>\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"Create a password..\"\n                  className=\"form-control\"\n                  value={formData.password}\n                  onChange={handleChange}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"\">First name</label>\n                <input\n                  name=\"firstName\"\n                  placeholder=\"Enter your first name..\"\n                  className=\"form-control\"\n                  value={formData.firstName}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label className=\"\">Last name</label>\n                <input\n                  name=\"lastName\"\n                  placeholder=\"Enter your last name..\"\n                  className=\"form-control\"\n                  value={formData.lastName}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"\">\n                <label className=\"\">Email</label>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  placeholder=\"Enter your e-mail address..\"\n                  className=\"form-control\"\n                  value={formData.email}\n                  onChange={handleChange}\n                />\n              </div>\n\n              {formErrors.length\n                ? <Alert type=\"danger\" messages={formErrors} />\n                : null\n              }\n              <hr />\n\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary float-right\"\n                onSubmit={handleSubmit}\n              >\n                Submit\n              </button>\n            </form>\n          </div>\n        </div>\n      </div >\n    </div >\n  );\n}\n\nexport default SignupForm;"]},"metadata":{},"sourceType":"module"}